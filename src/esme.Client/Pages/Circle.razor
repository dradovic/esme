@page "/circle/{Id:int}"
@inherits CircleBase

@if (Messages == null)
{
    <p>Loading...</p>
}
else
{
    @foreach (var message in Messages)
    {
        <div>
            On @message.SentAt.ToString("g") @message.SenderName said:<br /> 
            @message.Text
        </div>
    }
    <form onsubmit="@OnSubmit">
        <textarea required autofocus bind="@NewMessage.Text"></textarea> @*FIXME: da, specify maxlength*@
        <div class="col-sm-4 offset-sm-4 mb-2">
            <button class="btn btn-lg btn-primary btn-block" type="submit">Send</button>
        </div>
    </form>
}

