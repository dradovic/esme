<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width">
    <title>esme</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/site.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="lib/vmsg/vmsg.css">
</head>
<body style="height:100vh">
    <app>
        <div class="d-flex align-items-center h-100">
            <div class="container text-center">
                <div class="display-4">
                    LOADING
                </div>
            </div>
        </div>
    </app>
    <script src="_framework/blazor.webassembly.js"></script>
    <script type="text/javascript">
        window.startAnimation = function () {
            const an1 = document.getElementById("an1");
            an1.beginElement();
            const anESME = document.getElementById("anESME");
            anESME.beginElement();
        }
        window.endAnimation = function () {
            const anESMEfadeout = document.getElementById("anESMEfadeout");
            anESMEfadeout.beginElement();
        }
    </script>
    <script src="lib/vmsg/vmsg.js" type="module"></script>
    <script type="text/javascript">
        windows.esme.record = function () {
            record({
                wasmURL: "lib/vmsg/vmsg.wasm"
            }).then(blob => {
                console.log("Recorded MP3", blob);
                var url = URL.createObjectURL(blob);
                var preview = document.createElement('audio');
                preview.controls = true;
                preview.src = url;
                document.body.appendChild(preview);
            });
        }
    </script>
</body>
</html>
